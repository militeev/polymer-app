<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="clg-departments">
  
<template>
  <ul>
    <template is="dom-repeat" items="[[list]]">
      <li>[[item.departmentName]]</li>
    </template>
  </ul>
</template>

<script>

  'use strict';

  goog.provide('coligo.elements.Departments');

  goog.require('coligo.scripts.actions');

  coligo.elements.Departments = class Departments {

    get behaviors() {
      return [
        coligo.behaviors.ListView
      ];
    }

    // Define behaviors with a getter.
    // Element setup goes in beforeRegister instead of createdCallback.
    beforeRegister() {
      this.is = 'clg-departments';
    }

    ready() {
      this.push('list', {departmentName: 'Accounting'});
    }

    pageWatcher(detail) {
      if (detail.pageSelected) {
        console.log('Departments page selected and I know it!');
        this.fire('dispatch-action', {
          type: coligo.scripts.actions.FETCH_DEPARTMENTS
        });
      }
      if (detail.pageDeselected) {
        console.log('And now departments page is deselected...');
      }
    }

  }

  // Register the element using Polymer's constructor.
  Polymer(coligo.elements.Departments);

</script>

</dom-module>
