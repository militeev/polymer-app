<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="clg-data-service">
  
<template>
</template>

<script>

  'use strict';

  goog.provide('coligo.elements.DataService');

  goog.require('coligo.behaviors.StateMutator');
  goog.require('coligo.scripts.Departments');
 
  coligo.elements.DataService = class DataService {

    get behaviors() {
      return [
        coligo.behaviors.StateMutator
      ];
    }

    beforeRegister() {
      this.is = 'clg-data-service';
      this.properties = {
        state: {
          type: Object,
          value: {},
          notify: true
        }
      };
    }

    ready() { 
    }

    fetchAllDepartments() {
//       console.log('fetch departments data service called');
      coligo.scripts.Departments.delay("getAll")
          .then(response => {
            this.set('state.departments', response);
          });
    }

  }

  // Register the element using Polymer's constructor.
  Polymer(coligo.elements.DataService);

</script>

</dom-module>
